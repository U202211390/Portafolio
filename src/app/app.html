<!-- Header Promocional CON EFECTO DE BRILLO -->
<div class="promo-header">
  <div class="promo-content">
    <div class="promo-brand">Alexander</div>
    <div class="promo-separator"></div>
    <div class="promo-text">
      Nuevos proyectos disponibles - 
      <a (click)="showSection('store')">Store de servicios</a> | 
      <a (click)="showSection('proyectos')">Portafolio completo</a>
    </div>
  </div>
</div>

<!-- Navbar MEJORADO - SIN "alexander" Y CON SELECTOR DE IDIOMA -->
<nav class="navbar">
  <div class="nav-container">
    <div class="nav-menu">
      <a (click)="showSection('hero')" data-section="hero" class="nav-link active">{{getText('nav.home')}}</a>
      <a (click)="showSection('perfil')" data-section="perfil" class="nav-link">{{getText('nav.profile')}}</a>
      <a (click)="showSection('proyectos')" data-section="proyectos" class="nav-link">{{getText('nav.projects')}}</a>
      <a (click)="showSection('store')" data-section="store" class="nav-link">Store</a>
      <a (click)="showSection('contacto')" data-section="contacto" class="nav-link">{{getText('nav.contact')}}</a>
    </div>
    
    <div class="nav-controls">
      <button (click)="toggleLanguage()" class="lang-selector">
        {{currentLanguage === 'es' ? 'ES' : 'EN'}}
      </button>
      
      <button (click)="toggleTheme()" class="theme-toggle" [title]="getText('theme.toggle')">
        <i [class]="darkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
      </button>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section id="hero" class="hero section active">
  <div class="container">
    <div class="hero-content">
      <h1 class="hero-title">
        {{profileData.name}}
        <span class="last-name">{{profileData.lastName}}</span>
      </h1>
      <p class="hero-subtitle">{{profileData.title}}</p>
      <p class="hero-description">{{profileData.description}}</p>
      <div class="hero-cta">
        <button (click)="showSection('proyectos')" class="btn btn-primary">{{getText('hero.btn.projects')}}</button>
        <button (click)="downloadCV()" class="btn">{{getText('hero.btn.cv')}}</button>
      </div>
    </div>
  </div>
</section>

<!-- Mi Perfil Section -->
<section id="perfil" class="section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">{{getText('profile.title')}}</h2>
      <p class="section-subtitle">{{getText('profile.subtitle')}}</p>
    </div>
    
    <div class="perfil-grid">
      <div class="perfil-card" *ngFor="let role of perfilRoles">
        <div class="card-icon">
          <i [class]="role.icon"></i>
        </div>
        <h3>{{role.title}}</h3>
        <p>{{role.description}}</p>
        <ul class="skill-tags">
          <li *ngFor="let skill of role.skills">{{skill}}</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Proyectos Section ACTUALIZADA -->
<section id="proyectos" class="section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">{{getText('projects.title')}}</h2>
      <p class="section-subtitle">{{getText('projects.subtitle')}}</p>
    </div>
    
    <!-- Filtros de categoría de proyectos -->
    <div class="project-categories">
      <button 
        (click)="filterProjects('all')" 
        [class.active]="selectedProjectCategory === 'all'"
        class="category-btn">
        Todos ({{proyectos.length}})
      </button>
      <button 
        (click)="filterProjects('full-stack')" 
        [class.active]="selectedProjectCategory === 'full-stack'"
        class="category-btn">
        Full-Stack
      </button>
      <button 
        (click)="filterProjects('backend')" 
        [class.active]="selectedProjectCategory === 'backend'"
        class="category-btn">
        Backend
      </button>
      <button 
        (click)="filterProjects('microservices')" 
        [class.active]="selectedProjectCategory === 'microservices'"
        class="category-btn">
        Microservicios
      </button>
      <button 
        (click)="filterProjects('iot')" 
        [class.active]="selectedProjectCategory === 'iot'"
        class="category-btn">
        IoT
      </button>
      <button 
        (click)="filterProjects('data')" 
        [class.active]="selectedProjectCategory === 'data'"
        class="category-btn">
        Data
      </button>
    </div>
    
    <!-- Grid de proyectos MEJORADO -->
    <div class="proyectos-grid">
      <div class="proyecto-card" *ngFor="let proyecto of getFilteredProjects()" (click)="showProjectDetails(proyecto)">
        <div class="proyecto-image">
          <span class="project-icon">{{proyecto.image}}</span>
          <div class="project-category">{{proyecto.category}}</div>
        </div>
        <div class="proyecto-content">
          <h3>{{proyecto.title}}</h3>
          <p>{{getProjectDescription(proyecto)}}</p>
          <div class="proyecto-tech">
            <span class="tech-tag" *ngFor="let tech of proyecto.tech.slice(0, 4)">{{tech}}</span>
            <span class="tech-more" *ngIf="proyecto.tech.length > 4">+{{proyecto.tech.length - 4}}</span>
          </div>
          <div class="project-stats">
            <span class="stat">
              <i class="fas fa-layer-group"></i>
              {{proyecto.architectures.length || 0}} {{getText('projects.architectures')}}
            </span>
            <span class="stat">
              <i class="fas fa-puzzle-piece"></i>
              {{proyecto.patterns.length || 0}} {{getText('projects.patterns')}}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Store Section -->
<section id="store" class="section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">{{getText('store.title')}}</h2>
      <p class="section-subtitle">{{getText('store.subtitle')}}</p>
    </div>
    
    <!-- Filtros de categoría -->
    <div class="store-categories">
      <button 
        (click)="filterStore('all')" 
        [class.active]="selectedCategory === 'all'"
        class="category-btn">
        {{getText('store.all')}}
      </button>
      <button 
        (click)="filterStore('software')" 
        [class.active]="selectedCategory === 'software'"
        class="category-btn">
        {{getText('store.software')}}
      </button>
      <button 
        (click)="filterStore('hardware')" 
        [class.active]="selectedCategory === 'hardware'"
        class="category-btn">
        {{getText('store.hardware')}}
      </button>
    </div>
    
    <!-- Grid de productos -->
    <div class="store-grid">
      <div class="store-item" *ngFor="let item of getFilteredItems()">
        <div class="store-item-image">{{item.image}}</div>
        <div class="store-item-content">
          <h4>{{item.name}}</h4>
          <p>{{item.description}}</p>
          <a 
            [href]="getWhatsAppLink(item.category)" 
            target="_blank" 
            class="whatsapp-btn">
            <i class="fab fa-whatsapp whatsapp-icon"></i>
            {{getText('store.quote')}}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contacto Section -->
<section id="contacto" class="section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">{{getText('contact.title')}}</h2>
      <p class="section-subtitle">{{getText('contact.subtitle')}}</p>
    </div>
    
    <div class="contact-content">
      <!-- Información de contacto -->
      <div class="contact-info">
        <div class="contact-item">
          <i class="fas fa-map-marker-alt"></i>
          <div>
            <h4>{{getText('contact.location')}}</h4>
            <span>{{profileData.location}}</span>
          </div>
        </div>
        
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <div>
            <h4>{{getText('contact.phone')}}</h4>
            <a href="tel:{{profileData.phone}}">{{profileData.phone}}</a>
          </div>
        </div>
        
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <div>
            <h4>{{getText('contact.email')}}</h4>
            <a href="mailto:{{profileData.email}}">{{profileData.email}}</a>
          </div>
        </div>
        
        <div class="contact-item">
          <i class="fab fa-linkedin"></i>
          <div>
            <h4>{{getText('contact.linkedin')}}</h4>
            <a href="#" target="_blank">alexander-castillo</a>
          </div>
        </div>
      </div>
      
      <!-- Formulario de contacto -->
      <form class="contact-form" (submit)="handleContact($event)">
        <div class="form-group">
          <input type="text" name="name" [placeholder]="getText('contact.form.name')" required>
        </div>
        
        <div class="form-group">
          <input type="email" name="email" [placeholder]="getText('contact.form.email')" required>
        </div>
        
        <div class="form-group">
          <textarea name="message" rows="6" [placeholder]="getText('contact.form.message')" required></textarea>
        </div>
        
        <button type="submit" class="btn btn-primary btn-block">{{getText('contact.form.send')}}</button>
      </form>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-brand">
        <h3>Alexander Castillo</h3>
      </div>
      
      <div class="footer-links">
        <a (click)="showSection('perfil')">{{getText('nav.profile')}}</a>
        <a (click)="showSection('proyectos')">{{getText('nav.projects')}}</a>
        <a (click)="showSection('store')">Store</a>
        <a (click)="showSection('contacto')">{{getText('nav.contact')}}</a>
      </div>
      
      <div class="footer-social">
        <a href="#" class="social-link" target="_blank">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="#" class="social-link" target="_blank">
          <i class="fab fa-github"></i>
        </a>
        <a href="mailto:{{profileData.email}}" class="social-link">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; {{getCurrentYear()}} Alexander Castillo. Todos los derechos reservados.</p>
    </div>
  </div>
</footer>

<!-- Modal de Proyecto MEJORADO CON TODOS LOS DETALLES -->
<div class="project-modal" *ngIf="selectedProject" (click)="closeProjectModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-close" (click)="closeProjectModal()">
      <i class="fas fa-times"></i>
    </button>
    
    <div class="modal-header">
      <div class="project-icon-large">{{selectedProject.image}}</div>
      <div class="project-info">
        <h3>{{selectedProject.title}}</h3>
        <p class="project-category-badge">{{selectedProject.category}}</p>
        <p class="project-description">{{getProjectDescription(selectedProject)}}</p>
      </div>
    </div>
    
    <div class="modal-body">
      <div class="project-details">
        <p>{{getProjectDetails(selectedProject)}}</p>
      </div>
      
      <!-- Stack Tecnológico -->
      <div class="modal-section">
        <h4><i class="fas fa-code"></i> Stack Tecnológico</h4>
        <div class="tech-list">
          <span class="tech-tag-large" *ngFor="let tech of selectedProject.tech">{{tech}}</span>
        </div>
      </div>
      
      <!-- Arquitecturas -->
      <div class="modal-section" *ngIf="selectedProject.architectures">
        <h4><i class="fas fa-layer-group"></i> Arquitecturas Implementadas</h4>
        <div class="architecture-list">
          <span class="architecture-tag" *ngFor="let arch of selectedProject.architectures">{{arch}}</span>
        </div>
      </div>
      
      <!-- Patrones de Diseño -->
      <div class="modal-section" *ngIf="selectedProject.patterns">
        <h4><i class="fas fa-puzzle-piece"></i> Patrones de Diseño</h4>
        <div class="pattern-list">
          <span class="pattern-tag" *ngFor="let pattern of selectedProject.patterns">{{pattern}}</span>
        </div>
      </div>
      
      <!-- Características principales -->
      <div class="modal-section">
        <h4><i class="fas fa-star"></i> Características Principales</h4>
        <ul class="features-list">
          <li *ngFor="let feature of getProjectFeatures(selectedProject)">
            <i class="fas fa-check-circle"></i>
            {{feature}}
          </li>
        </ul>
      </div>
      
      <!-- Enlaces del proyecto -->
      <div class="modal-actions">
        <button class="btn btn-primary" disabled>
          <i class="fab fa-github"></i>
          Ver Código
        </button>
        <button class="btn" disabled>
          <i class="fas fa-external-link-alt"></i>
          Demo Live
        </button>
        <a [href]="getWhatsAppLink('software')" target="_blank" class="btn whatsapp-btn">
          <i class="fab fa-whatsapp"></i>
          Consultar Proyecto
        </a>
      </div>
    </div>
  </div>
</div>
